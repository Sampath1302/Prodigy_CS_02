from PIL import Image
def encrypt_decrypt_image(input_path, output_path, key):
    image = Image.open(input_path)
    pixels = image.load()
    width, height = image.size
    for x in range(width):
        for y in range(height):
            r, g, b = pixels[x, y]
            r = r ^ key
            g = g ^ key
            b = b ^ key
            pixels[x, y] = (r, g, b)
    image.save(output_path)
    print(f'Image saved to {output_path}')
key = 123  
encrypt_decrypt_image('/czNmcy1wcml2YXRlL3Jhd3BpeGVsX2ltYWdlcy93ZWJzaXRlX2NvbnRlbnQvam9iNjgwLTE2Ni1wLWwxZGJ1cTN2LnBuZw.webp', 'encrypted_image.png', key)  # Encrypt
encrypt_decrypt_image('encrypted_image.png', 'decrypted_image.png', key) 
